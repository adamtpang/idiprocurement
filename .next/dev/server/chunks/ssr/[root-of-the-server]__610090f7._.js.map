{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///home/adampangelinan/ubuntu-projects/idiprocurement/components/metric-cards.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const MetricCards = registerClientReference(\n    function() { throw new Error(\"Attempted to call MetricCards() from the server but MetricCards is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/metric-cards.tsx <module evaluation>\",\n    \"MetricCards\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,cAAc,IAAA,uYAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,6DACA","ignoreList":[0]}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///home/adampangelinan/ubuntu-projects/idiprocurement/components/metric-cards.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const MetricCards = registerClientReference(\n    function() { throw new Error(\"Attempted to call MetricCards() from the server but MetricCards is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/metric-cards.tsx\",\n    \"MetricCards\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,cAAc,IAAA,uYAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,yCACA","ignoreList":[0]}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///home/adampangelinan/ubuntu-projects/idiprocurement/components/savings-chart.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const SavingsChart = registerClientReference(\n    function() { throw new Error(\"Attempted to call SavingsChart() from the server but SavingsChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/savings-chart.tsx <module evaluation>\",\n    \"SavingsChart\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,uYAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,8DACA","ignoreList":[0]}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///home/adampangelinan/ubuntu-projects/idiprocurement/components/savings-chart.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const SavingsChart = registerClientReference(\n    function() { throw new Error(\"Attempted to call SavingsChart() from the server but SavingsChart is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/savings-chart.tsx\",\n    \"SavingsChart\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,uYAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,0CACA","ignoreList":[0]}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///home/adampangelinan/ubuntu-projects/idiprocurement/components/opportunity-table.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const OpportunityTable = registerClientReference(\n    function() { throw new Error(\"Attempted to call OpportunityTable() from the server but OpportunityTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/opportunity-table.tsx <module evaluation>\",\n    \"OpportunityTable\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,mBAAmB,IAAA,uYAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,kEACA","ignoreList":[0]}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":["file:///home/adampangelinan/ubuntu-projects/idiprocurement/components/opportunity-table.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const OpportunityTable = registerClientReference(\n    function() { throw new Error(\"Attempted to call OpportunityTable() from the server but OpportunityTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/opportunity-table.tsx\",\n    \"OpportunityTable\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,mBAAmB,IAAA,uYAAuB,EACnD;IAAa,MAAM,IAAI,MAAM;AAAgP,GAC7Q,8CACA","ignoreList":[0]}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 132, "column": 0}, "map": {"version":3,"sources":["file:///home/adampangelinan/ubuntu-projects/idiprocurement/app/page.tsx"],"sourcesContent":["import fs from \"fs\"\nimport path from \"path\"\nimport { MetricCards } from \"@/components/metric-cards\"\nimport { SavingsChart } from \"@/components/savings-chart\"\nimport { OpportunityTable, Opportunity } from \"@/components/opportunity-table\"\nimport { Header } from \"@/components/header\"\n\nasync function getData() {\n  const filePath = path.join(process.cwd(), 'procurement_analysis', 'idi_procurement_mvp.csv')\n\n  if (!fs.existsSync(filePath)) {\n    return { items: [], totalSpend: 0, totalSavings: 0, chartData: [] }\n  }\n\n  const fileContent = fs.readFileSync(filePath, 'utf-8')\n  const rows = fileContent.split('\\n').filter(row => row.trim() !== '')\n\n  // Helper to parse CSV lines with quoted fields\n  const parseCSVLine = (line: string) => {\n    const result = []\n    let current = ''\n    let inQuote = false\n\n    for (let i = 0; i < line.length; i++) {\n      const char = line[i]\n      if (char === '\"') {\n        inQuote = !inQuote\n      } else if (char === ',' && !inQuote) {\n        result.push(current)\n        current = ''\n      } else {\n        current += char\n      }\n    }\n    result.push(current)\n\n    // Clean up quotes from the values (e.g. \"Product Name\" -> Product Name)\n    return result.map(val => val.trim().replace(/^\"|\"$/g, ''))\n  }\n\n  let totalSpend = 0\n  let totalSavings = 0\n\n  const items: Opportunity[] = rows.slice(1).map(row => {\n    // robust parse\n    const columns = parseCSVLine(row)\n\n    // Map columns:\n    // 0: Product\n    // 1: Current_FOB\n    // 2: Pack_Size\n    // 3: Origin\n    // 4: Current_Landed_Cost\n    // 5: Weekly_Vol\n\n    const product = columns[0]\n    const landedCost = parseFloat(columns[4]) || 0\n    const weeklyVol = parseFloat(columns[5]) || 0\n\n    const annualSpend = landedCost * weeklyVol * 52\n\n    // Logic: 30% savings target\n    const targetPrice = landedCost * 0.7\n    const savingsPerCase = landedCost - targetPrice\n    const annualSaving = annualSpend * 0.30\n    const spreadPercentage = 30.0\n\n    totalSpend += annualSpend\n    totalSavings += annualSaving\n\n    return {\n      product: product,\n      currentSupplier: \"GenPro\",\n      currentPrice: landedCost,\n      targetSupplier: \"Sumifru Philippines\",\n      targetPrice: targetPrice,\n      savingsPerCase: savingsPerCase,\n      annualSavings: annualSaving,\n      spreadPercentage: spreadPercentage\n    }\n  }).filter(item => item.product && item.product !== 'Product' && item.currentPrice > 0) // Filter invalid/zero rows\n\n  // Sort by savings for top chart\n  const topItems = [...items].sort((a, b) => b.annualSavings - a.annualSavings).slice(0, 5)\n\n  const chartData = topItems.map(item => ({\n    name: item.product.replace('BANANA, ', '').replace('APPLE, ', '').split(' ')[0],\n    current: (item.annualSavings / 0.30),\n    optimized: (item.annualSavings / 0.30) * 0.7\n  }))\n\n  return { items, totalSpend, totalSavings, chartData }\n}\n\nexport default async function Home() {\n  const { items, totalSpend, totalSavings, chartData } = await getData()\n\n  // Progress bar logic (arbitrary score based on savings potential %?)\n  // If savings are 30% of spend, score is maybe 45/100 (optimization room remaining?)\n  const optimizationScore = 45\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 font-sans text-gray-900 pb-20\">\n      <div className=\"bg-white border-b border-gray-200 px-8 py-4 flex items-center justify-between sticky top-0 z-10 shadow-sm\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"bg-gray-900 text-white p-1 rounded font-bold text-xs tracking-widest\">IDI</div>\n          <h1 className=\"text-lg font-semibold tracking-tight\">Procurement Intelligence</h1>\n        </div>\n        <div className=\"flex items-center gap-4 text-sm text-gray-500\">\n          <span>idi_procurement_mvp.csv</span>\n          <span className=\"h-4 w-px bg-gray-200\"></span>\n          <span>Last updated: just now</span>\n        </div>\n      </div>\n\n      <main className=\"max-w-[1600px] mx-auto p-8 space-y-8\">\n        {/* Metric Cards */}\n        <MetricCards\n          totalSpend={totalSpend}\n          potentialSavings={totalSavings}\n          optimizationScore={optimizationScore}\n        />\n\n        {/* Visuals & Data Layer */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          <div className=\"lg:col-span-2\">\n            <OpportunityTable items={items} />\n          </div>\n          <div>\n            <SavingsChart data={chartData} />\n\n            {/* Decorative extra card */}\n            <div className=\"mt-8 rounded-xl border border-gray-200 bg-white p-6 shadow-sm\">\n              <h3 className=\"text-sm font-medium text-gray-500 mb-4\">Implementation Status</h3>\n              <div className=\"space-y-4\">\n                <div className=\"flex items-center justify-between text-sm\">\n                  <span className=\"text-gray-900\">Supplier Onboarding</span>\n                  <span className=\"text-green-600 font-medium\">Complete</span>\n                </div>\n                <div className=\"flex items-center justify-between text-sm\">\n                  <span className=\"text-gray-900\">Price Negotiation</span>\n                  <span className=\"text-orange-500 font-medium\">In Progress</span>\n                </div>\n                <div className=\"flex items-center justify-between text-sm\">\n                  <span className=\"text-gray-900\">Logistics Route</span>\n                  <span className=\"text-gray-400\">Pending</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}